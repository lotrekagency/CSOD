{"remainingRequest":"/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/babel-loader/lib/index.js!/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/donaldo/chatlotrekfinal/csodproject/frontend/src/components/QuestionActions.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/donaldo/chatlotrekfinal/csodproject/frontend/src/components/QuestionActions.vue","mtime":1571843860681},{"path":"/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { apiService } from \"../common/api.service.js\";\nexport default {\n  name: \"QuestionActions\",\n  props: {\n    slug: {\n      type: String,\n      required: true\n    }\n  },\n  methods: {\n    deleteMessage: function () {\n      var _deleteMessage = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var endpoint;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                endpoint = \"/api/messagestext/\".concat(this.slug, \"/\");\n                _context.prev = 1;\n                _context.next = 4;\n                return apiService(endpoint, \"DELETE\");\n\n              case 4:\n                this.$router.push(\"/\");\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](1);\n                console.log(_context.t0);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 7]]);\n      }));\n\n      function deleteMessage() {\n        return _deleteMessage.apply(this, arguments);\n      }\n\n      return deleteMessage;\n    }()\n  }\n};",{"version":3,"sources":["QuestionActions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAgBA,SAAA,UAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,QAAA,EAAA;AAFA;AADA,GAHA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,aADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,QAFA,+BAEA,KAAA,IAFA;AAAA;AAAA;AAAA,uBAIA,UAAA,CAAA,QAAA,EAAA,QAAA,CAJA;;AAAA;AAKA,qBAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AALA;AAAA;;AAAA;AAAA;AAAA;AAOA,gBAAA,OAAA,CAAA,GAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAVA,CAAA","sourcesContent":["<template lang=\"html\">\n  <div class=\"question-actions\">\n    <button\n      class=\"btn btn-sm btn-outline-secondary mr-1\"\n      ><span>Modifica</span>\n    </button>\n    <button\n      class=\"btn btn-sm btn-outline-danger\"\n      @click=\"deleteMessage\"\n      >Cancella\n    </button>\n\n  </div>\n</template>\n\n<script>\nimport { apiService } from \"../common/api.service.js\";\nexport default {\n  name: \"QuestionActions\",\n\n  props:  {\n    slug: {\n      type: String,\n      required: true\n    }\n  },\n\n  methods: {\n    async deleteMessage() {\n      let endpoint = `/api/messagestext/${this.slug}/`;\n      try {\n          await apiService(endpoint, \"DELETE\");\n          this.$router.push(\"/\")\n      } catch (err) {\n          console.log(err);\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"css\" scoped>\n</style>\n"],"sourceRoot":"src/components"}]}
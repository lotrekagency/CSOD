{"remainingRequest":"/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/babel-loader/lib/index.js!/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/donaldo/chatlotrekfinal/csodproject/frontend/src/common/api.service.js","dependencies":[{"path":"/home/donaldo/chatlotrekfinal/csodproject/frontend/src/common/api.service.js","mtime":1571046845954},{"path":"/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//qui utilizzereo fetch per permetterci di effettuare delle chiamate verso la nostra REST Api\nimport { CSRF_TOKEN } from \"./csrf_token.js\";\n\nfunction getJSON(_x) {\n  return _getJSON.apply(this, arguments);\n}\n\nfunction _getJSON() {\n  _getJSON = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee(response) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(response.status === 204)) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", '');\n\n          case 2:\n            return _context.abrupt(\"return\", response.json());\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getJSON.apply(this, arguments);\n}\n\nfunction apiService(endpoint, method, data) {\n  var config = {\n    method: method || \"GET\",\n    body: data !== undefined ? JSON.stringify(data) : null,\n    headers: {\n      'content-type': 'application/json',\n      'X-CSRFToken': CSRF_TOKEN\n    }\n  };\n  return fetch(endpoint, config).then(getJSON).catch(function (error) {\n    return console.log(error);\n  });\n}\n\nexport { apiService };",{"version":3,"sources":["/home/donaldo/chatlotrekfinal/csodproject/frontend/src/common/api.service.js"],"names":["CSRF_TOKEN","getJSON","response","status","json","apiService","endpoint","method","data","config","body","undefined","JSON","stringify","headers","fetch","then","catch","error","console","log"],"mappings":";;AAAA;AAEA,SAASA,UAAT;;SAEeC,O;;;;;;;0BAAf,iBAAuBC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA,kBACQA,QAAQ,CAACC,MAAT,KAAoB,GAD5B;AAAA;AAAA;AAAA;;AAAA,6CACwC,EADxC;;AAAA;AAAA,6CAEWD,QAAQ,CAACE,IAAT,EAFX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAKA,SAASC,UAAT,CAAoBC,QAApB,EAA8BC,MAA9B,EAAsCC,IAAtC,EAA4C;AACxC,MAAMC,MAAM,GAAG;AACbF,IAAAA,MAAM,EAAEA,MAAM,IAAI,KADL;AAEbG,IAAAA,IAAI,EAAEF,IAAI,KAAKG,SAAT,GAAqBC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAArB,GAA4C,IAFrC;AAGbM,IAAAA,OAAO,EAAE;AACP,sBAAgB,kBADT;AAEP,qBAAed;AAFR;AAHI,GAAf;AAQA,SAAOe,KAAK,CAACT,QAAD,EAAWG,MAAX,CAAL,CACEO,IADF,CACOf,OADP,EAEEgB,KAFF,CAEQ,UAAAC,KAAK;AAAA,WAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ;AAAA,GAFb,CAAP;AAGH;;AAED,SAASb,UAAT","sourcesContent":["//qui utilizzereo fetch per permetterci di effettuare delle chiamate verso la nostra REST Api\n\nimport { CSRF_TOKEN } from \"./csrf_token.js\"\n\nasync function getJSON(response) {     //funzione per restituire il JSON del response\n    if (response.status === 204) return '';\n    return response.json();\n}\n\nfunction apiService(endpoint, method, data) {\n    const config = {\n      method: method || \"GET\",\n      body: data !== undefined ? JSON.stringify(data) : null,\n      headers: {\n        'content-type': 'application/json',\n        'X-CSRFToken': CSRF_TOKEN\n      }\n    }\n    return fetch(endpoint, config)\n            .then(getJSON)\n            .catch(error => console.log(error))\n}\n\nexport { apiService };\n"]}]}
{"remainingRequest":"/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/donaldo/chatlotrekfinal/csodproject/frontend/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/donaldo/chatlotrekfinal/csodproject/frontend/src/views/Home.vue","mtime":1571757461427},{"path":"/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/donaldo/chatlotrekfinal/csodproject/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// @ is an alias to /src\nimport { apiService } from \"../common/api.service.js\";\nexport default {\n  name: \"home\",\n\n  data() {\n    return {\n      messages: [],\n      next: null,\n      loadingMessages: false\n    }\n  },\n\n  methods: {\n    getMessages() {\n      let endpoint = \"api/messagestext/\";\n      if (this.next) {\n          endpoint = this.next;\n      }\n      this.loadingMessages = true;\n      apiService(endpoint)\n        .then(data => {\n            this.messages.push(...data.results);\n            this.loadingMessages = false;\n            if(data.next) {\n                this.next = data.next;\n            } else {\n              this.next = null;\n            }\n        })\n    }\n  },\n\n  created() {\n    this.getMessages();\n    document.title= \"Messaggi\";\n  }\n};\n",{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home-view\">\n    <div class=\"container\">\n        <div class=\"mt-2\">\n            <div v-for=\"message in messages\"\n               :key=\"message.pk\">\n\n              <p class=\"mb-0\">Messaggio aggiunto da\n                <span class=\"author_name\">{{ message.author }}</span>\n              </p>\n              <h2>\n                <router-link\n                  :to=\"{ name: 'message', params: {slug: message.slug, pk: message.pk} }\"\n                  class=\"message-link\">\n                  {{ message.content }}\n                </router-link>\n              </h2>\n              <p>Risposte: {{ message.answers_count }}</p>\n              <hr>\n            </div>\n\n        </div>\n        <div class=\"my-4\">\n            <p v-show=\"loadingMessages\">...loading...</p>\n          <button\n             v-show=\"next\"\n             @click=\"getMessages\"\n             class=\"btn btn-sm btn-outline-success\"\n             >Carica Ancora\n          </button>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { apiService } from \"../common/api.service.js\";\nexport default {\n  name: \"home\",\n\n  data() {\n    return {\n      messages: [],\n      next: null,\n      loadingMessages: false\n    }\n  },\n\n  methods: {\n    getMessages() {\n      let endpoint = \"api/messagestext/\";\n      if (this.next) {\n          endpoint = this.next;\n      }\n      this.loadingMessages = true;\n      apiService(endpoint)\n        .then(data => {\n            this.messages.push(...data.results);\n            this.loadingMessages = false;\n            if(data.next) {\n                this.next = data.next;\n            } else {\n              this.next = null;\n            }\n        })\n    }\n  },\n\n  created() {\n    this.getMessages();\n    document.title= \"Messaggi\";\n  }\n};\n</script>\n\n<style media=\"screen\">\n  .author_name {\n    font-weight:  bold;\n    color: #DC3545;\n  }\n\n  .message-link {\n    font-weight:  bold;\n    color: black;\n  }\n\n  .message-link:hover {\n    color: #343A40;\n    text-decoration: none;\n  }\n\n</style>\n"]}]}